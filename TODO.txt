# Dev Time Tracker - Migration & Enhancement TODO List

## Phase 1: Database Schema Preparation
### Local Database Updates
- [x] Add new fields to existing tables:
  - [x] Add 'synced' boolean flag
  - [x] Add 'org_id' field
  - [x] Add 'local_id' UUID field
  - [x] Add 'last_modified' timestamp
- [x] Update database queries to handle new fields

### Supabase Setup
- [x] Create Supabase project
- [x] Design cloud database schema
  - [x] Users table with organization links
  - [x] Organizations table
  - [x] Time tracking tables
  - [x] Projects and teams tables
- [x] Set up Row Level Security (RLS)
  - [x] Define access policies for each table
  - [x] Test security rules
- [x] Configure authentication settings
  - [x] Basic email/password auth working
  - [x] Auto-create user profile trigger
  - [x] CSP configured for Supabase connection
  - [x] Set up email templates (NEXT STEP)
  - [x] Configure OAuth providers (optional)

## Phase 2: Authentication Implementation
### UI Development
- [x] Create login screen
- [x] Create signup screen
- [x] Add auth error handling
- [x] Add password reset flow
- [ ] Create organization setup wizard
- [ ] Add profile management page

### Authentication Logic
- [x] Implement Supabase auth integration
- [x] Set up secure token storage (handled by Supabase)
- [x] Add session management
- [x] Implement login state persistence
- [x] Add auth error handling
- [x] Fix logout functionality

## Phase 3: Local-Cloud Sync System
### Sync Infrastructure
- [ ] Create sync queue system
- [ ] Implement network status detection
- [ ] Add sync status indicators in UI
- [ ] Create sync logging system

### Sync Logic
- [ ] Implement background sync process
- [ ] Add conflict resolution handling
- [ ] Create batch processing system
- [ ] Add retry mechanism for failed syncs
- [ ] Implement data validation

## Phase 4: Organization Management
### Organization Features
- [ ] Create organization settings page
- [ ] Add team management interface
- [ ] Implement role management system
- [ ] Create user invitation system
- [ ] Add organization switching

### Access Control
- [ ] Implement role-based access control
- [ ] Set up data visibility rules
- [ ] Add audit logging system
- [ ] Create user restriction system

## Phase 5: Real-time Features
### Real-time Infrastructure
- [ ] Set up Supabase real-time channels
- [ ] Implement live updates for time tracking
- [ ] Add presence indicators
- [ ] Create notification system

### Dashboard Updates
- [ ] Add real-time team activity feed
- [ ] Create live project status updates
- [ ] Implement real-time analytics
- [ ] Add live collaboration features

## Phase 6: Nice-to-Have Features
- [ ] Gamification
    - [ ] Simple rewards for meeting time goals
    - [ ] Leaderboards for teams
    - [ ] Basic achievement tracking
    - [ ] Badges for milestones
- [ ] Advanced Analytics
    - [ ] Team performance metrics
- [ ] Integrations
    - [ ] Calendar integration

## Production
- [ ] Google OAuth